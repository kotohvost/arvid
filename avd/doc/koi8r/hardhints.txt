
           Полезные фишки, которые КСИ не описало,
	   но скорее всего знало. Всего им самого
	             доброго за это. :-))

1. В режиме передачи данных арвид вставляет в начало каждого
кадра одно слово, если кадр заполняем во время обработки
прерывания. (Левченко)
2. В режиме приема данных арвид вставляет в начало каждого
кадра одно слово, если кадр читаем не из обработчика
прерывания. (Левченко)
3. В режиме передачи данных арвид вставляет в начало каждого
кадра после сброса очереди еще одно слово в дополнение к 
пункту 1. Итого два слова вставляется вначале первого переданного 
кадра после сброса очереди, если кадр заполняется во время
обработки прерывания. (Левченко)
4. При приеме первый кадр заполнен мусором от предыдущей работы
арвида, и этот мусор не переписывается вводимыми данными. Точнее,
он частично вытирается в середине, а вначале и конце содержится
старая дата в режиме ввода irc данных и просто не заполняется
вводными данными в режиме данных, а конец кадра по смещению 0x9f0
заполняется мусором. Те вводимые данные можно использовать только
со второго кадра. (Левченко)
5. Если установлен первый бит фазы (5 бит по базе 0), irc
прием не включиться, хотя irc передача работает на моем
1052. Так что не искушайте судьбу - не пишите в установленном
состоянии тех битов, которых КСИ явно не описало - там еще
полно андока.(Левченко)
6. #define DIS_REGENERATE 0x20 /* запрещение регенерации для
режима ИК */ по Зарошевскому пункт 5 следует, что этот бит
запрета выдачи дублицирующихся кадров в режиме передачи irc
команды. Полезный бит для определения прерывания, зная только
порт.(Зарошевский)
7. #define TRN_LINES_IRC   312 /* передаваемых строк ИК !!!!
реально 312.5 */ по Зарошевскому это говорит о том, что реально
в режиме передачи irc команды передается еще полстроки. И это
работает.(Зарошевский)

 10.02.2002                 Левченко В.И. <sl@eltrast.ru>
     